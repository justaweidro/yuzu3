<!DOCTYPE html>
<html lang="ja-JP">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        :root {
            color-scheme: light dark;
            --body-text-color: rgb(125, 127, 127);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --body-text-color: rgb(133, 133, 133);
            }
        }

        html {
            width: 100%;
        }

        body {
            -webkit-text-size-adjust: none;
            -webkit-user-select: none;
            color: var(--body-text-color);
            font: -apple-system-short-body;
            height: 100vh;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            overflow: hidden; /* スクロールを無効化 */
        }

        p {
            text-align: center;
            word-wrap: break-word;
            padding: 20px;
            margin: 0 auto;
            max-width: 832px;
        }

        button {
            display: none;
            position: fixed;
            left: 50%;
            transform: translateX(-50%);
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
        }

        #pullButton {
            bottom: 20px;
        }

        #passwordContainer {
            display: none;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        #scrollUpButton {
            top: 20px;
        }
    </style>
    <title>ページを開けません</title>
</head>
<body>
    <p>iPadがインターネットに接続されていないため、“https://yuki-tangolevel.onrender.com/”のページをSafariで開くことができません。</p>

    <!-- 下に引っ張ると表示されるボタン -->
    <button id="pullButton">パスワードを入力</button>

    <!-- パスワード入力フィールド -->
    <div id="passwordContainer">
        <input type="text" id="passwordInput" placeholder="パスワードを入力">
        <button id="checkPasswordButton">確認</button>
        <p id="errorMessage" style="color: red; display: none;">パスワードが違います</p>
    </div>

    <!-- 上に隠されているボタン -->
    <button id="scrollUpButton">サイトを開く</button>

    <script>
        const pullButton = document.getElementById("pullButton");
        const passwordContainer = document.getElementById("passwordContainer");
        const passwordInput = document.getElementById("passwordInput");
        const checkPasswordButton = document.getElementById("checkPasswordButton");
        const errorMessage = document.getElementById("errorMessage");
        const scrollUpButton = document.getElementById("scrollUpButton");

        let pulledDown = false;

        // 下に引っ張る検知 (touchイベントで実現)
        let startY = 0;
        let endY = 0;

        window.addEventListener("touchstart", (e) => {
            startY = e.touches[0].clientY;
        });

        window.addEventListener("touchmove", (e) => {
            endY = e.touches[0].clientY;
            if (startY - endY > 50 && !pulledDown) {
                // 下に引っ張ったらボタンを表示
                pulledDown = true;
                pullButton.style.display = "block";
            }
        });

        // 「パスワードを入力」ボタンを押したとき
        pullButton.addEventListener("click", () => {
            pullButton.style.display = "none";
            passwordContainer.style.display = "flex";
        });

        // パスワード確認ボタンを押したとき
        checkPasswordButton.addEventListener("click", () => {
            errorMessage.style.display = "block";
        });

        // 上スクロールでボタンを表示 (touchイベントで実現)
        let pulledUp = false;

        window.addEventListener("touchmove", (e) => {
            if (endY - startY > 50 && !pulledUp) {
                pulledUp = true;
                scrollUpButton.style.display = "block";
            }
        });

        // 「サイトを開く」ボタンを押したとき
        scrollUpButton.addEventListener("click", () => {
            window.location.href = "https://yuki-tangolevel.onrender.com";
        });
    </script>
</body>
</html>
